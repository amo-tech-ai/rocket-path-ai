# Core Prompt 38 — Documents Screen Design

**Purpose:** Define the luxury, premium documents generation screen with wireframe, content, data, features, and AI content/image generation integration

**Phase:** 4 (Production)  
**Screen:** Documents Page  
**AI Agents:** ContentGenerator, ImageGenerator

---

## Screen Overview

The documents screen provides founders with an AI-assisted document generation system that creates pitch decks, one-pagers, investor emails, and other structured documents. The screen enables template selection, AI content generation, image creation, editing, and export to PDF or Google Docs formats.

---

## Wireframe Layout

### 3-Panel Structure

**Left Panel - Context:**
- Navigation menu (Dashboard, Projects, Deals, Contacts, Tasks, Discovery, **Documents**, Strategy)
- Document templates
  - Pitch Deck (12-15 slides)
  - One-Pager (1 page summary)
  - Investor Email (outreach template)
  - Executive Summary (detailed overview)
  - Business Plan (full document)
- Recent documents
  - List of last 5 generated documents
  - Click to open/edit
- Document categories
  - By type (Deck, Email, Summary)
  - By status (Draft, Final, Exported)

**Main Panel - Work:**
- Document editor view
  - Header with document title and actions
    - Document name (editable)
    - "Generate" button (AI content generation)
    - "Add Slide" / "Add Section" button
    - "Generate Images" button
    - "Export" dropdown (PDF, Google Docs, PPTX)
  - Document preview/editor
    - For pitch decks: Slide preview with thumbnails
    - For one-pagers: Full page preview
    - For emails: Email preview
    - Editable content areas
    - Image placeholders
- Document list view (alternative)
  - Grid/list of all documents
  - Document cards with preview
  - Quick actions (Edit, Duplicate, Delete, Export)
- Empty state (no documents yet)
- Loading state (during generation)

**Right Panel - Intelligence:**
- Document AI Panel (during generation)
  - Generation progress
  - Content being generated
  - Image generation status
  - Step-by-step progress
- Content Suggestions Panel (when editing)
  - Selected section highlighted
  - AI rewrite suggestions
  - Alternative phrasings
  - Style improvements
  - Tone adjustments (formal, conversational, bold)
- Image Generation Panel (when generating images)
  - Image prompt preview
  - Style options (aspect ratio, style)
  - Generated image preview
  - Approval controls
- Document Insights (when no document selected)
  - "Create your first pitch deck"
  - "Generate investor email template"
  - "Create one-pager for outreach"

---

## Content Specifications

### Document Types

**Pitch Deck (12-15 slides):**
- Slide 1: Title slide (company name, tagline)
- Slide 2: Problem statement
- Slide 3: Solution overview
- Slide 4: Market opportunity
- Slide 5: Business model
- Slide 6: Traction/metrics
- Slide 7: Product demo/screenshots
- Slide 8: Competitive landscape
- Slide 9: Go-to-market strategy
- Slide 10: Team
- Slide 11: Financial projections
- Slide 12: Ask/funding
- Slide 13: Contact/next steps
- Optional: Additional slides based on context

**One-Pager (1 page):**
- Header (company name, logo)
- Problem/Solution (2-3 sentences each)
- Market/Traction (key metrics)
- Team (founders, key roles)
- Ask/Next Steps
- Contact information

**Investor Email:**
- Subject line (AI-generated options)
- Greeting (personalized)
- Opening hook
- Company description (2-3 sentences)
- Traction highlights (bullet points)
- Ask (funding amount, purpose)
- Call to action (meeting request)
- Signature

**Executive Summary:**
- Company overview
- Problem statement
- Solution description
- Market analysis
- Business model
- Traction and metrics
- Team
- Financial highlights
- Funding ask

### Document Editor

**Slide/Section Editor:**
- Title field (editable)
- Content field (rich text editor)
- Image placeholder (click to generate or upload)
- Notes field (speaker notes for decks)
- Style options (fonts, colors, layout)

**Image Generation:**
- Image prompt input (editable)
- Style preferences (modern, minimalist, bold)
- Aspect ratio (16:9 for slides, 1:1 for thumbnails)
- Generate button
- Image preview
- Replace/regenerate option

---

## Features

### Document Generation

**Template Selection:**
- Browse document templates
- Preview template structure
- Select template for generation
- Customize template (future)

**AI Content Generation:**
- ContentGenerator creates document content
- Uses startup profile data
- Generates all sections/slides
- Provides alternative phrasings
- Style customization (tone, length)

**Image Generation:**
- ImageGenerator creates slide images
- 4K resolution with text rendering
- Custom styling per image
- Batch generation for all slides
- Regenerate individual images

### Document Editing

**Content Editing:**
- Rich text editor for all content
- Real-time preview
- Markdown support (future)
- Collaboration features (future)

**Image Management:**
- Generate new images
- Replace existing images
- Upload custom images
- Delete images
- Reorder slides with images

**Document Structure:**
- Add/remove slides (for decks)
- Reorder slides (drag and drop)
- Duplicate slides
- Delete slides

### Export Options

**Export Formats:**
- PDF (full document, print-ready)
- Google Docs (editable, shareable)
- PowerPoint (PPTX) for decks
- Markdown (future)
- HTML (future)

**Export Settings:**
- Include notes (for decks)
- Page size/format
- Color scheme
- Image quality

---

## AI Agent Integration

### ContentGenerator

**Trigger Points:**
- User selects template and clicks "Generate"
- User clicks "Generate Content" on existing document
- User requests rewrite of specific section

**Workflow:**
1. User selects document type and template
2. ContentGenerator agent called with startup profile
3. AI generates all document sections/slides
4. Content structured by document type
5. Alternative phrasings provided
6. Content displayed in editor
7. User reviews and edits

**Configuration:**
- Model: `gemini-3-pro-preview`
- Features: Structured Output, Thinking Mode
- Edge action: `generate_content`
- Output: Structured content matching document schema

### ImageGenerator

**Trigger Points:**
- User clicks "Generate Images" for document
- User clicks image placeholder on slide
- User requests specific image for section

**Workflow:**
1. User initiates image generation
2. Image prompts created from slide content
3. ImageGenerator agent called for each image
4. Images generated at 4K resolution
5. Images displayed in placeholders
6. User approves or regenerates

**Configuration:**
- Model: `gemini-3-pro-image-preview`
- Features: Image Generation, 4K output, Text rendering
- Edge action: `generate_image`
- Output: Base64 image data
- Config: Aspect ratio, image size (1K/2K/4K)

### WorkflowOrchestrator

**Multi-Step Coordination:**
- Coordinates ContentGenerator + ImageGenerator
- Manages document assembly
- Handles errors and retries
- Assembles final document

**Workflow:**
1. User requests "Generate Pitch Deck"
2. WorkflowOrchestrator plans workflow
3. Step 1: ContentGenerator creates all slide content
4. Step 2: ImageGenerator creates images (parallel)
5. Step 3: Assemble deck from content + images
6. Step 4: Quality check
7. Step 5: Save document
8. Display in editor

---

## User Journey

### Journey: Generate Pitch Deck → Edit → Export

**Step 1: Select Template**
- User navigates to Documents page
- User clicks "Pitch Deck" template
- Template structure displayed

**Step 2: Generate Content**
- User clicks "Generate Deck" button
- ContentGenerator creates all slide content
- Loading state shown with progress
- Content displayed slide by slide

**Step 3: Generate Images**
- User clicks "Generate Images" button
- ImageGenerator creates images for slides
- Images generated in parallel (faster)
- Images displayed in placeholders

**Step 4: Review and Edit**
- User reviews generated content
- User edits specific slides
- User regenerates images if needed
- User adds/removes slides

**Step 5: Export**
- User clicks "Export" dropdown
- User selects format (PDF, Google Docs, PPTX)
- Document exported
- Download/save confirmation

---

## Workflows

### Workflow 1: Generate Complete Pitch Deck

**User Actions:**
1. Click "Pitch Deck" template
2. Click "Generate Deck" button
3. Review generated content
4. Click "Generate Images"
5. Review and edit as needed
6. Click "Export" → PDF

**System Actions:**
1. WorkflowOrchestrator coordinates workflow
2. ContentGenerator creates all slide content
3. ImageGenerator creates all images (parallel)
4. Assemble deck from content + images
5. Save document to database
6. Export to PDF

**AI Agents:**
- WorkflowOrchestrator (claude-sonnet-4-5) - Coordination
- ContentGenerator (gemini-3-pro-preview) - Content
- ImageGenerator (gemini-3-pro-image-preview) - Images

**Data Flow:**
- User Request → WorkflowOrchestrator → ContentGenerator + ImageGenerator → Assembly → Document → Export

---

### Workflow 2: Edit Section → AI Rewrite

**User Actions:**
1. Select slide/section in editor
2. Click "AI Rewrite" in right panel
3. Review AI suggestions
4. Apply selected suggestion
5. Save changes

**System Actions:**
1. ContentGenerator called with selected content
2. AI generates alternative phrasings
3. Suggestions displayed in right panel
4. User applies suggestion
5. Content updated in editor

**AI Agent:**
- ContentGenerator (gemini-3-pro-preview)
- Rewrite specific section
- Provide 3-5 alternatives
- Style options (more concise, more formal, etc.)

---

### Workflow 3: Generate Single Image

**User Actions:**
1. Click image placeholder on slide
2. Edit image prompt (optional)
3. Click "Generate Image"
4. Review generated image
5. Approve or regenerate

**System Actions:**
1. ImageGenerator called with prompt
2. Image generated at 4K resolution
3. Image displayed in placeholder
4. User approves or regenerates

**AI Agent:**
- ImageGenerator (gemini-3-pro-image-preview)
- Single image generation
- Custom prompt support
- Style customization

---

## Data Specifications

### Data Sources

**Primary Tables:**
- `documents` - Document metadata
- `document_sections` - Document content (slides, sections)
- `document_images` - Generated images (base64 or URLs)
- `startups` - Startup profile (for content generation context)

**Document Fields:**
- id (UUID)
- startup_id (FK)
- type (enum: pitch_deck, one_pager, investor_email, executive_summary)
- title (string)
- status (enum: draft, final, exported)
- created_at (timestamp)
- updated_at (timestamp)
- exported_at (timestamp)

**Document Section Fields:**
- id (UUID)
- document_id (FK)
- section_index (integer, for ordering)
- title (string)
- content (text, rich text)
- image_url (string, optional)
- notes (text, optional, for speaker notes)

**Image Data:**
- id (UUID)
- section_id (FK)
- image_prompt (string, prompt used)
- image_data (base64 or URL)
- image_size (string, 1K/2K/4K)
- aspect_ratio (string, e.g., "16:9")
- generated_at (timestamp)

---

## Frontend Backend Wiring

### State Management

**React Query Hooks:**
- `useDocuments()` - Fetch all documents
- `useDocument(id)` - Fetch single document
- `useGenerateDocument(type, template)` - Generate document mutation
- `useGenerateImages(documentId)` - Generate images mutation
- `useUpdateDocument()` - Update document
- `useExportDocument(id, format)` - Export mutation

**Local State:**
- Selected document ID
- Selected section/slide index
- Editor content state
- Image generation state
- Export progress state

### API Integration

**Document Service:**
- `getDocuments()` - Fetch all documents
- `getDocumentById(id)` - Fetch document with sections
- `createDocument(type, template)` - Create new document
- `updateDocument(id, data)` - Update document
- `updateSection(id, data)` - Update document section
- `deleteDocument(id)` - Delete document

**AI Service:**
- `generateDocumentContent(type, profile)` - Call ContentGenerator
  - Edge action: `generate_content`
  - Returns structured content
- `generateDocumentImages(documentId, prompts)` - Call ImageGenerator
  - Edge action: `generate_image`
  - Returns base64 image data
- `orchestrateDocumentGeneration(type)` - Call WorkflowOrchestrator
  - Edge action: `orchestrate`
  - Coordinates full workflow

**Export Service:**
- `exportDocument(id, format)` - Export to PDF/Google Docs/PPTX
  - Server-side rendering/assembly
  - Returns download URL or file

### Real-Time Updates

**Subscription:**
- Subscribe to document changes
- Update document list when documents created/updated
- Real-time collaboration (future)

**Optimistic Updates:**
- Update UI immediately on edit
- Revert on error
- Smooth loading states

---

## UI Components

### Document Editor Component

**Props:**
- document (document object)
- sections (array of section objects)
- onUpdate (callback)
- onGenerate (callback)
- onExport (callback)

**Features:**
- Slide/section editor
- Rich text editing
- Image placeholders
- Drag and drop reordering
- Preview mode

### Document Generator Component

**Props:**
- templates (array of template objects)
- onSelectTemplate (callback)
- onGenerate (callback)

**Features:**
- Template selection
- Generation progress
- Preview template structure
- Customization options

### Image Generator Component

**Props:**
- prompt (string, image prompt)
- section (section object)
- onGenerate (callback)
- onApprove (callback)

**Features:**
- Prompt input (editable)
- Style options (aspect ratio, style)
- Generate button
- Image preview
- Approve/regenerate controls

---

## Error Handling

### Generation Errors

**Content Generation Failed:**
- Show error: "Could not generate content"
- Partial content display (if any generated)
- Retry button
- Manual entry fallback

**Image Generation Failed:**
- Show error for specific image
- Retry button for failed image
- Continue with other images
- Stock image fallback (future)

**Workflow Orchestration Failed:**
- Show error: "Document generation incomplete"
- Partial document display
- Retry from failed step
- Manual completion option

### General Errors

**Save Failed:**
- Show error message
- Keep editor content (don't clear)
- Retry button
- Auto-save recovery

**Export Failed:**
- Show error: "Could not export document"
- Retry export
- Alternative format option

---

## Best Practices

### UX Guidelines

**Document Generation:**
- Show progress for long operations (30-90 seconds)
- Display content as it's generated (progressive)
- Allow cancellation during generation
- Provide manual editing at all times

**Image Generation:**
- Generate images in parallel (faster)
- Show image preview before saving
- Allow regeneration with modified prompts
- Provide style customization

**Performance:**
- Lazy load document content
- Optimize image display (thumbnails, full on click)
- Efficient export (server-side rendering)
- Cache generated content (temporary)

---

## Integration Points

### With Dashboard

**Dashboard → Documents:**
- "Generate Pitch Deck" quick action
- Recent documents widget
- Document completion tracking

**Documents → Dashboard:**
- Document status affects dashboard metrics
- Completion adds to profile strength

### With Deals Screen

**Documents → Deals:**
- Attach documents to deals
- Share pitch deck with investors
- Email documents from deals

**Deals → Documents:**
- Generate investor email from deal context
- Create custom deck for specific investor

---

## Responsive Design

### Desktop (≥1280px)
- 3-panel layout (240px + flex + 320px)
- Full document editor with preview
- Right panel shows AI suggestions

### Tablet (768-1279px)
- 2-panel layout (collapsible left + main)
- Right panel as slide-over
- Document editor with side panel

### Mobile (<768px)
- Single panel (main only)
- Left panel as hamburger menu
- Simplified editor (future: mobile-optimized)
- Bottom sheet for right panel

---

The documents screen provides a luxury, premium, sophisticated, intelligent document generation experience. The AI-powered content and image generation, seamless editing, and professional export options create a comprehensive document creation system that helps founders produce investor-ready materials quickly and efficiently.

---

**Last Updated:** January 15, 2026  
**Status:** ✅ Complete - Ready for Phase 4 implementation
